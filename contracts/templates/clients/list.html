{% extends 'index.html' %}

{% block content %}
  {% load static %}

  {% csrf_token %}
    <div class="content">
      <div class="card card-default">
        <div class="card-header card-header-border-bottom d-flex justify-content-between">
          <h2>Clientes</h2>
          <div class="btn-group">
            <a href="{% url 'create_client' %}" class="btn btn-primary btn-md"><i class="mdi mdi-plus mr-1"></i> Adicionar</a>
          </div>
        </div>

        {% if clients %}
        <div class="card-body">
          <div class="hoverable-data-table">
            <table id="hoverable-data-table" class="table table-hover nowrap ml-2 mr-2">
              <thead>
                <tr>
                  <th>No.</th>
                  <th>Entidad</th>
                  <th class="d-none d-md-table-cell">Siglas</th>
                  <th class="d-none d-md-table-cell">Representante</th>
                  <th class="d-none d-md-table-cell">Tipo</th>
                  <th class="d-none d-md-table-cell">Organismo</th>
                  <th class="d-none d-lg-table-cell">Telefono</th>
                  <th class="d-none d-lg-table-cell">Correo Electronico</th>
                  <th class="d-none d-lg-table-cell">Provincia</th>
                  <th class="d-none d-xl-table-cell">Municipio</th>
                  <th class="d-none d-xl-table-cell">Direccion</th>
                  <th class="d-none d-xl-table-cell">Observaciones</th>
                  <th>Opciones</th>
                </tr>
              </thead>
              <tbody>
                {% for client in clients %}
                  <tr>
                    <td>{{forloop.counter}}</td>
                    <td>{{ client.name }}</td>
                    <td>{{ client.acronym }}</td>
                    <td class="d-none d-md-table-cell">{{ client.first_name }} {{ client.last_name }}</td>
                    <td class="d-none d-md-table-cell">{{ client.type_client }}</td>
                    <td class="d-none d-md-table-cell">{{ client.ministry }}</td>
                    <td class="d-none d-lg-table-cell">{{ client.telephone }}</td>
                    <td class="d-none d-lg-table-cell">{{ client.email }}</td>
                    <td class="d-none d-lg-table-cell">{{ client.province }}</td>
                    <td class="d-none d-xl-table-cell">{{ client.municipality }}</td>
                    <td class="d-none d-xl-table-cell">{{ client.address }}</td>
                    <td class="d-none d-xl-table-cell">{{ client.description }}</td>
                    <td>
                      <a href="{% url 'edit_client' client.id %}" class="btn btn-success btn-sm" role="button" title="Actualizar">
                        <i class="mdi mdi-2x mdi-pencil font-size-15"></i></a>
                      <a href="{% url 'delete_client' client.id %}" class="btn btn-danger btn-sm" role="button" title="Eliminar">
                        <i class="mdi mdi-2x mdi-trash-can font-size-15"></i></a>
                    </td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      {% else %}
      <div class="alert alert-warning m-4">
        No hay clientes registrados en el sistema
      </div>
      {% endif %}
    </div>
</div>
{% endblock %}